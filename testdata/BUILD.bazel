# Description:
#   BUILD file for the CEL conformance libraries and data.
load("@io_bazel_rules_go//proto:def.bzl", "go_proto_library")

package(default_visibility = ["//visibility:public"])

licenses(["notice"])  # Apache 2.0

# TODO: Check if the generated path is correct.
# Generated via:
#    bazel build cel-spec/testutil:test_data_gen &&
#        bazel-bin/cel-cpp/testutil/test_data_gen 
filegroup(
    name = "testdata",
    srcs = glob([
        "*.textpb",
        "*.binarypb",
    ]),
)

proto_library(
    name = "test_value_proto",
    srcs = [
        "test_value.proto",
    ],
    deps = [
        "@com_google_googleapis//:expr_v1beta1",
        '@com_google_protobuf//:any_proto',
        '@com_google_protobuf//:duration_proto',
        '@com_google_protobuf//:struct_proto',
        '@com_google_protobuf//:timestamp_proto',
        '@com_google_protobuf//:wrappers_proto',
    ],
)

proto_library(
    name = "test_data_proto",
    srcs = [
        "test_data.proto",
    ],
    deps = [
        # "//google/api/expr/v1beta1:value_protos",
        "@com_google_googleapis//:expr_v1beta1",
        ":test_value_proto",
    ],
)

go_proto_library(
    name = "test_data_go_proto",
    importpath = "github.com/google/cel-spec/testdata/test_data",
    proto = ":test_data_proto",
    deps = [
        "@com_google_googleapis//:expr_v1beta1_go_proto",
        ":test_value_go_proto",
        ],
)

go_proto_library(
    name = "test_value_go_proto",
    importpath = "github.com/google/cel-spec/testdata/test_value",
    proto = ":test_value_proto",
    deps = ["@com_google_googleapis//:expr_v1beta1_go_proto"],
)

java_proto_library(
    name = "test_data_java_proto",
    deps = [":test_data_proto"],
)

java_proto_library(
    name = "test_value_java_proto",
    deps = [":test_value_proto"],
)

java_lite_proto_library(
    name = "test_data_java_proto_lite",
    deps = [":test_data_proto"],
)

java_lite_proto_library(
    name = "test_value_java_proto_lite",
    deps = [":test_value_proto"],
)
